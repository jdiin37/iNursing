webpackJsonp([1],{"0X1o":function(t,e){},"5hQ/":function(t,e){},"7zck":function(t,e){},"8CXm":function(t,e){},"8Quy":function(t,e){},FOos:function(t,e){},J334:function(t,e){},JK2Y:function(t,e){},JRbp:function(t,e){},MOFU:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i=(s("j1ja"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",[e("v-content",[e("v-container",{attrs:{fluid:""}},[e("transition",{attrs:{name:"slide-fade"}},[e("router-view")],1)],1)],1)],1)},staticRenderFns:[]});var n=s("VU/8")({name:"App",data:function(){return{message:"Hello Ben.."}}},i,!1,function(t){s("Wa+F")},null,null).exports,r=s("/ocq");function o(t,e,s){this.label=t,this.data=e,this.borderColor=s}function l(t){this.dataLabel=t}function c(t){if(void 0===t||null===t||"[object Window]"==t||""==t||"null"==t)return"";if(7==t.length){var e=t.substring(0,3),s=t.substring(3,5),a=t.substring(5,7);if(t.startsWith("0"))e=t.substring(1,3);return e+"/"+s+"/"+a}if(6==t.length)return t.substring(0,2)+":"+t.substring(2,4)+":"+t.substring(4,6);if(11==t.length){e=t.substring(0,3),s=t.substring(3,5),a=t.substring(5,7);if(t.startsWith("0"))e=t.substring(1,3);return e+"/"+s+"/"+a+"  "+t.substring(7,9)+":"+t.substring(9,11)}return t.substring(0,2)+":"+t.substring(2,4)}var d={name:"PatientCard1",props:["tempImgSrc"],computed:{patientInfo:function(){return this.$store.state.patientInfo}},methods:{formate_Date:function(t){return c(t)},emitWebCam:function(){this.$emit("showWebCam","")}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-flex",{attrs:{xs12:""}},[s("v-card",{staticClass:"white--text"},[s("v-container",{attrs:{fluid:"","grid-list-lg":"","pa-0":""}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{staticClass:"accent",attrs:{xs2:"","pa-1":""}},[s("v-btn",{attrs:{icon:""},on:{click:t.emitWebCam}},[s("v-icon",[t._v("camera_alt")])],1)],1),t._v(" "),s("v-flex",{attrs:{xs10:"","pa-0":""}},[s("v-card-media",{attrs:{src:this.tempImgSrc,height:"186px"}},[s("v-container",{attrs:{"fill-height":"",fluid:"","py-2":""}},[s("v-layout",{attrs:{"fill-height":""}},[s("v-flex",{attrs:{xs12:"",sm12:"",md12:"","align-end":"",flexbox:""}},[s("span",{staticClass:"title"},[t._v(t._s(t.patientInfo.ptName)+" "+t._s(t.patientInfo.bedNo))])])],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),s("v-card-title",[s("div",[s("span",{staticClass:"grey--text"},[t._v("姓別 : "+t._s(t.patientInfo.sex))]),s("br"),t._v(" "),s("span",[t._v("住院日期 : "+t._s(t.formate_Date(t.patientInfo.ckinDate))+"  住院天數 "+t._s(t.patientInfo.admitDays)+" 天")]),s("br"),t._v(" "),s("span",[t._v("入院診斷 : Whitsunday Island, Whitsunday Islands")])])]),t._v(" "),s("v-card-actions",[s("v-btn",{attrs:{flat:"",color:"green"}},[t._v("詳細")]),t._v(" "),s("v-btn",{attrs:{flat:"",color:"orange"}},[t._v("過敏史")]),t._v(" "),s("v-btn",{attrs:{flat:"",color:"purple"}},[t._v("其他")])],1)],1)},staticRenderFns:[]};var m=s("VU/8")(d,u,!1,function(t){s("pssk")},"data-v-984c6f7c",null).exports,p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-footer",{staticClass:"foot",attrs:{color:"primary",app:""}},[s("span",{staticClass:"white--text"},[t._v(" www.Hismax.com.tw 07-3366224")]),t._v(" "),s("v-spacer"),t._v(" "),s("span",{staticClass:"white--text"},[t._v(" "+t._s(t.loginUser.empName)+" 登入時間 : "+t._s(t.loginUser.loginDateTime))])],1)},staticRenderFns:[]};var h=s("VU/8")({name:"Footer",data:function(){return{}},computed:{loginUser:function(){return this.$store.state.loginUser}},methods:{logOut:function(){this.$emit("Logout","")}}},p,!1,function(t){s("gMdV")},"data-v-a116fd9a",null).exports,v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-toolbar",{attrs:{color:"primary",dark:"",fixed:"",app:""}},[s("v-toolbar-side-icon",{on:{click:function(e){return e.stopPropagation(),t.menu_click(e)}}}),t._v(" "),s("v-toolbar-title",[t._v(t._s(t.patientInfo.chartNo)+", "+t._s(t.patientInfo.ptName)+", "+t._s(t.patientInfo.sex)+" ")]),t._v(" "),s("v-spacer"),t._v("使用者: "),s("input",{attrs:{type:"button",title:"登出",value:t.loginUser.empName},on:{click:t.logOut}}),t._v(" "),s("v-text-field",{staticClass:"mx-3",attrs:{"prepend-icon":"search",label:"Search","solo-inverted":"",flat:""}}),t._v(" "),s("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.PatientList_click(e)}}},[s("v-icon",[t._v("group")])],1)],1)},staticRenderFns:[]};var f=s("VU/8")({name:"Header",data:function(){return{drawer:"true"}},computed:{loginUser:function(){return this.$store.state.loginUser},patientInfo:function(){return this.$store.state.patientInfo}},methods:{menu_click:function(t){this.$emit("menu_click","")},PatientList_click:function(t){this.$emit("PatientList_click","")},logOut:function(){this.$emit("Logout","")}}},v,!1,function(t){s("JK2Y")},"data-v-732f7630",null).exports,g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("H2",[t._v("患者概況(Episode Summary)")]),t._v(" "),s("table",{staticStyle:{width:"80%"}},[t._m(0),t._v(" "),s("tr",[s("td",{attrs:{align:"center"}},[t._v(t._s(t.patientInfo.chartNo)+" / "+t._s(t.patientInfo.serno))]),t._v(" "),s("td",{attrs:{align:"center"}},[t._v(t._s(t.patientInfo.ptName))]),t._v(" "),s("td",{attrs:{align:"center"}},[t._v(t._s(t.patientInfo.sex))]),t._v(" "),s("td",{attrs:{align:"center"}},[t._v(t._s(t.patientInfo.bedNo))]),t._v(" "),s("td",{attrs:{align:"center"}})])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",{attrs:{width:"15%"}},[t._v("病歷號 / 住院序號")]),t._v(" "),s("th",{attrs:{width:"15%"}},[t._v("姓名")]),t._v(" "),s("th",{attrs:{width:"10%"}},[t._v("性別 / 年齢")]),t._v(" "),s("th",{attrs:{width:"10%"}},[t._v("目前床號")]),t._v(" "),s("th",{attrs:{width:"50%"}},[t._v("備註")])])}]};var x=s("VU/8")({name:"EpisodeSummary",computed:{patientInfo:function(){return this.$store.state.patientInfo}}},g,!1,function(t){s("FOos")},"data-v-abecdf70",null).exports,_={name:"AppArticle",data:function(){return{}},components:{EpisodeSummary:x},methods:{}},b={render:function(){var t=this.$createElement;return(this._self._c||t)("EpisodeSummary")},staticRenderFns:[]};var y=s("VU/8")(_,b,!1,function(t){s("JRbp")},"data-v-4fe69652",null).exports,k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-list",{attrs:{dense:"",color:"secondary"}},[s("v-list-tile",{on:{click:function(t){}}},[s("v-list-tile-action",[s("v-icon",[t._v("home")])],1),t._v(" "),s("v-list-tile-content",[s("router-link",{attrs:{to:{name:"EpisodeSummary"}}},[s("v-list-tile-title",[t._v("患者概況")])],1)],1)],1),t._v(" "),s("v-list-tile",{on:{click:function(t){}}},[s("v-list-tile-action",[s("v-icon",[t._v("assignment")])],1),t._v(" "),s("v-list-tile-content",[s("router-link",{attrs:{to:{name:"FormViewer2"}}},[s("v-list-tile-title",[t._v("護理表單")])],1)],1)],1),t._v(" "),s("v-list-tile",{on:{click:function(t){}}},[s("v-list-tile-action",[s("v-icon",[t._v("timeline")])],1),t._v(" "),s("v-list-tile-content",[s("router-link",{attrs:{to:{name:"TPRRecord"}}},[s("v-list-tile-title",[t._v("生命徵象")])],1)],1)],1),t._v(" "),s("v-list-tile",{on:{click:function(t){}}},[s("v-list-tile-action",[s("v-icon",[t._v("dns")])],1),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",[t._v("護理記錄")])],1)],1),t._v(" "),s("v-list-tile",{on:{click:function(t){}}},[s("v-list-tile-action",[s("v-icon",[t._v("description")])],1),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",[t._v("護理計劃")])],1)],1),t._v(" "),s("v-list-tile",{on:{click:function(t){}}},[s("v-list-tile-action",[s("v-icon",[t._v("contact_mail")])],1),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",[t._v("檢驗報告")])],1)],1),t._v(" "),s("v-list-tile",{on:{click:function(t){}}},[s("v-list-tile-action",[s("v-icon",[t._v("class")])],1),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",[t._v("病人宣教")])],1)],1),t._v(" "),s("v-list-tile",{on:{click:function(t){}}},[s("v-list-tile-action",[s("v-icon",[t._v("question_answer")])],1),t._v(" "),s("v-list-tile-content",[s("v-list-tile-title",[t._v("問卷調查")])],1)],1)],1)},staticRenderFns:[]};var w=s("VU/8")({name:"Aside"},k,!1,function(t){s("tXCF")},"data-v-ddc8a654",null).exports,I={name:"MyPatientList1",props:["myPats","myPatsLoading"],data:function(){return{pageItem:[{text:12,value:12},{text:20,value:20},{text:"ALL",value:9999}],pagination:{sortBy:"chartNo",rowsPerPage:12},pageText:"每頁筆數 :",filter_chartNo:"",filter_vs:"",filter_ns:"",stations:[],doctors:[],deleteDialog:!1,deleteContent:"",deletedIndex:"",headers:[{text:"",align:"center",sortable:!1,class:"px-1"},{text:"病歷號碼",value:"chartNo",class:"px-1"},{text:"護理站",value:"ns",class:"px-1"},{text:"床位",value:"bedNo",class:"px-1"},{text:"病患姓名",value:"ptName",class:"px-1"},{text:"性別",value:"sexName",class:"px-1"},{text:"身分",value:"typeName",class:"px-1"},{text:"負擔",value:"partNo",class:"px-1"},{text:"卡號",value:"cardSeq",class:"px-1"},{text:"住院日期",value:"ckinDate",class:"px-1"},{text:"醫師",value:"vs",class:"px-1"},{text:"出院日期",value:"dischargeDate",class:"px-1"},{text:"住院日數",value:"admitDays",class:"px-1"},{text:"備註",value:"statusStr",class:"px-1"}]}},computed:{pages:function(){return null==this.pagination.rowsPerPage||null==this.pagination.totalItems?0:(this.pagination.totalItems=this.myPats.length,this.pagination.page=1,Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage))}},watch:{},mounted:function(){},methods:{formate_Date:function(t){return c(t)},selectPT:function(t){var e={chartNo:t.chartNo,ptName:t.ptName,bedNo:t.bedNo,sex:t.sexName,ckinDate:t.ckinDate,admitDays:t.admitDays,serno:t.serno};this.$store.commit("selectPt",e),this.$store.commit("togglePtList"),this.$router.push("/home/episodesummary")},delMyPat:function(t){var e=this.myPats.indexOf(t),s=t.ptName+"("+t.chartNo+") ";this.deleteDialog=!0,this.deleteContent=s,this.deletedIndex=e},confirmDelete:function(){var t=this,e=this.deletedIndex,s={};s.chartNo=this.myPats[e].chartNo;var a=this.$store.state.loginUser.empNo;if(a||(a="ORCL"),s.empNo=a,s.serno=this.myPats[e].serno,s.rawPk=this.myPats[e].rawPk,s){var i="/iNursingSrv/rest/mypatient/s/"+s.rawPk;this.$http.delete(i).then(function(s){if("INFO"==s.data.status){var a={status:!0,text:s.data.message,timeout:4e3,closeText:""};t.$store.commit("setSnackBar",a),t.myPats.splice(e,1)}else{var i={status:!0,text:s.data.message,timeout:4e3,closeText:""};t.$store.commit("setSnackBar",i)}}).catch(function(e){console.log("delFromMyPat: error : "+e);try{var s={status:!0,text:e.response.data.message,timeout:4e3,closeText:""};t.$store.commit("setSnackBar",s)}catch(s){var a={status:!0,text:e.toString(),timeout:4e3,closeText:""};t.$store.commit("setSnackBar",a)}})}this.deleteDialog=!1},iniData:function(){this.pats=[],this.stations=[],this.doctors=[],this.filter_vs="",this.filter_ns="",this.filter_chartNo=""}}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-dialog",{attrs:{"max-width":"500"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v("移除我的照護病人")]),t._v(" "),s("v-card-text",{domProps:{innerHTML:t._s(t.deleteContent)}}),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},nativeOn:{click:function(e){t.deleteDialog=!1}}},[t._v("取消")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},nativeOn:{click:function(e){return t.confirmDelete(e)}}},[t._v("確定")])],1)],1)],1),t._v(" "),s("v-data-table",{staticClass:"fix-height-1",attrs:{headers:t.headers,items:this.myPats,loading:this.myPatsLoading,pagination:t.pagination,"hide-actions":""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("tr",{on:{click:function(s){t.selectPT(e.item)}}},[s("td",{staticClass:"justify-center layout px-0"},[s("v-btn",{staticClass:"mx-1",attrs:{icon:""},on:{click:function(s){s.stopPropagation(),t.delMyPat(e.item)}}},[s("v-icon",{attrs:{color:"teal"}},[t._v("delete")])],1)],1),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(e.item.chartNo))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(e.item.ns))]),t._v(" "),s("td",{staticClass:"px-1",staticStyle:{"min-width":"50px"}},[t._v(t._s(e.item.bedNo))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(e.item.ptName))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(e.item.sexName))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(e.item.typeName))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(e.item.partNo))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(e.item.cardSeq))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(t.formate_Date(e.item.ckinDate)))]),t._v(" "),s("td",{staticClass:"px-1",staticStyle:{"min-width":"100px"}},[t._v(t._s(e.item.vs))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(t.formate_Date(e.item.dischargeDate)))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(e.item.admitDays))]),t._v(" "),s("td",{staticClass:"px-1",staticStyle:{"min-width":"300px"}},[t._v(t._s(e.item.statusStr))])])]}},{key:"pageText",fn:function(e){return[t._v("\n      第 "+t._s(e.pageStart)+" - "+t._s(e.pageStop)+" ,共 "+t._s(e.itemsLength)+" 筆\n    ")]}}])},[s("template",{slot:"no-data"},[s("v-alert",{attrs:{value:this.myPatsLoading,type:"warning"}},[t._v("\n        資料讀取中, 請稍後...\n      ")]),t._v(" "),s("v-alert",{attrs:{value:!this.myPatsLoading,color:"error",icon:"warning"}},[t._v("\n        對不起, 目前沒有資料:(\n      ")])],1)],2),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",md8:"","text-xs-center":"","pt-2":""}},[s("v-pagination",{attrs:{length:t.pages,"total-visible":7},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",md2:"","pr-2":""}},[s("v-select",{attrs:{items:t.pageItem,label:"每頁筆數","item-value":"value"},model:{value:t.pagination.rowsPerPage,callback:function(e){t.$set(t.pagination,"rowsPerPage",e)},expression:"pagination.rowsPerPage"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",md2:"","pr-2":""}},[s("v-text-field",{attrs:{label:"總筆數",readonly:""},model:{value:t.pagination.totalItems,callback:function(e){t.$set(t.pagination,"totalItems",e)},expression:"pagination.totalItems"}})],1)],1)],1)},staticRenderFns:[]};var P={name:"InpPatientList1",props:["myPats"],data:function(){return{confirmHead:"",confirmText:"",confirmDialog:!1,confirmIndex:"",confirmMethod:"",pageItem:[{text:10,value:10},{text:20,value:20},{text:"ALL",value:9999}],pagination:{sortBy:"chartNo",rowsPerPage:10},loading:!1,listType:"INP",disDays:"350",pageText:"每頁筆數 :",chartNo:"",filter_vs:"",filter_ns:"",stations:[],doctors:[],headers:[{text:"",align:"center",value:"isMyPatient",class:"px-1"},{text:"病歷號碼",value:"chartNo",class:"px-1"},{text:"護理站",value:"ns",class:"px-1"},{text:"床位",value:"bedNo",class:"px-1"},{text:"病患姓名",value:"ptName",class:"px-1"},{text:"性別",value:"sexName",class:"px-1"},{text:"身分",value:"typeName",class:"px-1"},{text:"負擔",value:"partNo",class:"px-1"},{text:"卡號",value:"cardSeq",class:"px-1"},{text:"住院日期",value:"ckinDate",class:"px-1"},{text:"醫師",value:"vs",class:"px-1"},{text:"出院日期",value:"dischargeDate",class:"px-1"},{text:"住院日數",value:"admitDays",class:"px-1"},{text:"備註",value:"statusStr",class:"px-1"}],pats:[]}},computed:{customFilter:function(){var t=this;return this.pats.filter(function(e){return(!t.filter_vs||e.vs.indexOf(t.filter_vs)>=0)&&(!t.filter_ns||e.ns.indexOf(t.filter_ns)>=0)})},pages:function(){return null==this.pagination.rowsPerPage||null==this.pagination.totalItems?0:(this.pagination.totalItems=this.customFilter.length,this.pagination.page=1,Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage))}},mounted:function(){this.getInpPat()},watch:{listType:function(t,e){"INP"==t?this.getInpPat():this.getDisPat()},myPats:function(t,e){if(this.pats.length>0){var s=[];t.forEach(function(t){s.push(t.chartNo+"-"+t.serno)}),this.pats.forEach(function(t){s.includes(t.chartNo.toString()+"-"+t.serno.toString())?t.isMyPatient="Y":t.isMyPatient="N"})}}},methods:{formate_Date:function(t){return c(t)},getStations:function(){var t=[],e=[{text:"",value:null}];this.pats.forEach(function(s){var a=s.ns,i=s.nsName;-1===t.indexOf(a)&&(t.push(a),e.push({text:i,value:a}))}),t=null,this.stations=e},getDoctors:function(){var t=[],e=[{text:"",value:null}];this.pats.forEach(function(s){var a=s.vs,i=s.vsName;s.vs=a+" "+i,-1===t.indexOf(a)&&(t.push(a),e.push({text:a+" "+i,value:a}))}),t=null,this.doctors=e},getPatByChartNo:function(){var t=this;if(this.chartNo){this.iniData(),this.loading=!0;var e=this.$store.state.loginUser.empNo;e||(e="ORCL");var s="/iNursingSrv/rest/inpatient/bychartno/"+this.chartNo+"/"+e;this.$http.get(s).then(function(e){t.pats=e.data.resultSet,t.getStations(),t.getDoctors(),t.loading=!1}).catch(function(e){console.log("getInpPat: error : "+e);try{var s={status:!0,text:e.response.data.message,timeout:4e3,closeText:""};t.$store.commit("setSnackBar",s)}catch(s){var a={status:!0,text:e.toString(),timeout:4e3,closeText:""};t.$store.commit("setSnackBar",a)}t.loading=!1})}else this.getInpPat()},getInpPat:function(){var t=this;this.iniData(),this.loading=!0;var e=this.$store.state.loginUser.empNo;e||(e="ORCL");var s="/iNursingSrv/rest/inpatient/inhospital/"+e;this.$http.get(s).then(function(e){t.pats=e.data.resultSet,t.getStations(),t.getDoctors(),t.loading=!1}).catch(function(e){console.log("getInpPat: error : "+e);try{var s={status:!0,text:e.response.data.message,timeout:4e3,closeText:""};t.$store.commit("setSnackBar",s)}catch(s){var a={status:!0,text:e.toString(),timeout:4e3,closeText:""};t.$store.commit("setSnackBar",a)}t.loading=!1})},getDisPat:function(){var t=this;this.iniData(),this.loading=!0;var e=this.$store.state.loginUser.empNo;e||(e="ORCL");var s="/iNursingSrv/rest/inpatient/discharged/bydays/"+this.disDays+"/"+e;this.$http.get(s).then(function(e){t.pats=e.data.resultSet,t.getStations(),t.getDoctors(),t.loading=!1}).catch(function(e){console.log("getDisPat: error : "+e);try{var s={status:!0,text:e.response.data.message,timeout:4e3,closeText:""};t.$store.commit("setSnackBar",s)}catch(s){var a={status:!0,text:e.toString(),timeout:4e3,closeText:""};t.$store.commit("setSnackBar",a)}t.loading=!1})},selectPT:function(t){var e={chartNo:t.chartNo,ptName:t.ptName,bedNo:t.bedNo,sex:t.sexName,ckinDate:t.ckinDate,admitDays:t.admitDays,serno:t.serno};this.$store.commit("selectPt",e),this.$store.commit("togglePtList"),this.$router.push("/home/episodesummary")},showDialog:function(t){var e=this.pats.indexOf(t);if("N"==this.pats[e].isMyPatient){var s=t.ptName+"("+t.chartNo+") ";this.confirmDialog=!0,this.confirmHead="加入我的照護病人",this.confirmText=s,this.confirmIndex=e,this.confirmMethod="POST"}else{s=t.ptName+"("+t.chartNo+") ";this.confirmDialog=!0,this.confirmHead="移除我的照護病人",this.confirmText=s,this.confirmIndex=e,this.confirmMethod="DELETE"}},addToMyPat:function(){var t=this,e=this.confirmIndex,s=this.$store.state.loginUser.empNo;s||(s="ORCL");var a={empNo:s,chartNo:this.pats[e].chartNo,serno:this.pats[e].serno,note:""};this.$http.post("/iNursingSrv/rest/mypatient/s",a).then(function(s){if("INFO"==s.data.status){var a={status:!0,text:s.data.message+" "+t.pats[e].ptName+"("+t.pats[e].chartNo+") 已加入我的照護病人",timeout:4e3,closeText:""};t.$store.commit("setSnackBar",a),t.pats[e].isMyPatient="Y"}else{var i={status:!0,text:s.data.message,timeout:4e3,closeText:""};t.$store.commit("setSnackBar",i)}}).catch(function(e){console.log("addToMyPat: error : "+e);try{var s={status:!0,text:e.response.data.message,timeout:4e3,closeText:""};t.$store.commit("setSnackBar",s)}catch(s){var a={status:!0,text:e.toString(),timeout:4e3,closeText:""};t.$store.commit("setSnackBar",a)}}),this.confirmDialog=!1},deleteFromMyPat:function(){var t=this,e=this.confirmIndex,s=this.pats[e].chartNo,a=this.pats[e].serno,i={},n=this.$store.state.loginUser.empNo;if(n||(n="ORCL"),this.myPats.forEach(function(t){t.chartNo==s&&t.serno==a&&(i.chartNo=t.chartNo,i.empNo=n,i.serno=t.serno,i.rawPk=t.rawPk)}),i!={}){var r="/iNursingSrv/rest/mypatient/s/"+i.rawPk;this.$http.delete(r).then(function(s){if("INFO"==s.data.status){var a={status:!0,text:s.data.message,timeout:4e3,closeText:""};t.$store.commit("setSnackBar",a),t.pats[e].isMyPatient="N"}else{var i={status:!0,text:s.data.message,timeout:4e3,closeText:""};t.$store.commit("setSnackBar",i)}}).catch(function(e){console.log("delFromMyPat: error : "+e);try{var s={status:!0,text:e.response.data.message,timeout:4e3,closeText:""};t.$store.commit("setSnackBar",s)}catch(s){var a={status:!0,text:e.toString(),timeout:4e3,closeText:""};t.$store.commit("setSnackBar",a)}})}this.confirmDialog=!1},iniData:function(){this.pats=[],this.stations=[],this.doctors=[],this.filter_vs="",this.filter_ns=""}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-title",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",md2:"","px-2":""}},[s("v-text-field",{attrs:{"append-icon":"search",label:"病歷號"},on:{"click:append":function(){return"INP"==t.listType||t.chartNo?t.getPatByChartNo():t.getDisPat()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?"INP"==t.listType||t.chartNo?t.getPatByChartNo():t.getDisPat():null}},model:{value:t.chartNo,callback:function(e){t.chartNo=e},expression:"chartNo"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",md2:"","px-2":""}},[s("v-select",{attrs:{items:t.doctors,label:"醫師","item-value":"value"},model:{value:t.filter_vs,callback:function(e){t.filter_vs=e},expression:"filter_vs"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",md2:"","px-2":""}},[s("v-select",{attrs:{items:t.stations,label:"護理站","item-value":"value"},model:{value:t.filter_ns,callback:function(e){t.filter_ns=e},expression:"filter_ns"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",md4:"","px-2":""}},[s("v-radio-group",{attrs:{row:""},model:{value:t.listType,callback:function(e){t.listType=e},expression:"listType"}},[s("v-radio",{attrs:{label:"住院中",value:"INP",disabled:t.loading}}),t._v(" "),s("v-radio",{attrs:{label:"出院",value:"DIS",disabled:t.loading}})],1)],1),t._v(" "),s("v-flex",{attrs:{xs12:"",md2:""}},["DIS"==t.listType?s("v-text-field",{attrs:{label:"出院日數","append-icon":"search"},on:{"click:append":function(){return t.getDisPat()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.getDisPat(e):null}},model:{value:t.disDays,callback:function(e){t.disDays=e},expression:"disDays"}}):t._e()],1)],1)],1),t._v(" "),s("v-dialog",{attrs:{"max-width":"500"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:" confirmDialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v(t._s(t.confirmHead))]),t._v(" "),s("v-card-text",{domProps:{innerHTML:t._s(t.confirmText)}}),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},nativeOn:{click:function(e){t.confirmDialog=!1}}},[t._v("取消")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},nativeOn:{click:function(e){return"POST"==t.confirmMethod?t.addToMyPat():t.deleteFromMyPat()}}},[t._v("確定")])],1)],1)],1),t._v(" "),s("v-data-table",{staticClass:"fix-height-1",attrs:{headers:t.headers,items:t.customFilter,"hide-actions":"",loading:t.loading,pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"pageText",fn:function(e){return[t._v("\n    第 "+t._s(e.pageStart)+" - "+t._s(e.pageStop)+" ,共 "+t._s(e.itemsLength)+" 筆\n  ")]}},{key:"items",fn:function(e){return[s("tr",{on:{click:function(s){t.selectPT(e.item)}}},[s("td",{staticClass:"justify-center layout px-0"},[s("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(s){s.stopPropagation(),t.showDialog(e.item)}}},[s("v-icon",{attrs:{color:"teal"}},[t._v(t._s("Y"==e.item.isMyPatient?"favorite":"favorite_border"))])],1)],1),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(e.item.chartNo))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(e.item.ns))]),t._v(" "),s("td",{staticClass:"px-1",staticStyle:{"min-width":"50px"}},[t._v(t._s(e.item.bedNo))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(e.item.ptName))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(e.item.sexName))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(e.item.typeName))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(e.item.partNo))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(e.item.cardSeq))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(t.formate_Date(e.item.ckinDate)))]),t._v(" "),s("td",{staticClass:"px-1",staticStyle:{"min-width":"100px"}},[t._v(t._s(e.item.vs))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(t.formate_Date(e.item.dischargeDate)))]),t._v(" "),s("td",{staticClass:"px-1"},[t._v(t._s(e.item.admitDays))]),t._v(" "),s("td",{staticClass:"px-1",staticStyle:{"min-width":"300px"}},[t._v(t._s(e.item.statusStr))])])]}}])},[s("template",{slot:"no-data"},[s("v-alert",{attrs:{value:t.loading,type:"warning"}},[t._v("\n      資料讀取中, 請稍後...\n    ")]),t._v(" "),s("v-alert",{attrs:{value:!t.loading,color:"error",icon:"warning"}},[t._v("\n      對不起, 目前沒有資料:(\n    ")])],1)],2),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",md8:"","text-xs-center":"","pt-2":""}},[s("v-pagination",{attrs:{length:t.pages,"total-visible":7,value:"0"},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",md2:"","pr-2":""}},[s("v-select",{attrs:{items:t.pageItem,label:"每頁筆數","item-value":"value"},model:{value:t.pagination.rowsPerPage,callback:function(e){t.$set(t.pagination,"rowsPerPage",e)},expression:"pagination.rowsPerPage"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",md2:"","pr-2":""}},[s("v-text-field",{attrs:{label:"總筆數",readonly:""},model:{value:t.pagination.totalItems,callback:function(e){t.$set(t.pagination,"totalItems",e)},expression:"pagination.totalItems"}})],1)],1)],1)},staticRenderFns:[]};var D={name:"PatientList1",data:function(){return{loading:!1,myPats:[]}},components:{MyPatientList:s("VU/8")(I,S,!1,function(t){s("PdUy")},"data-v-3042563e",null).exports,InpPatientList:s("VU/8")(P,C,!1,function(t){s("PLnx")},"data-v-7e29db47",null).exports},mounted:function(){this.getMyPats()},methods:{getMyPats:function(){var t=this,e=this.$store.state.loginUser.empNo;e||(e="ORCL");var s="iNursingSrv/rest/mypatientlist/byempno/"+e;this.loading=!0,this.$http.get(s).then(function(e){e.data.resultSet&&(t.myPats=e.data.resultSet,t.myPats.forEach(function(t){var e=t.vs,s=t.vsName;t.vs=e+" "+s})),t.loading=!1}).catch(function(e){t.loading=!1,console.log("getMyPat: error : "+e);try{var s={status:!0,text:e.response.data.message,timeout:4e3,closeText:""};t.$store.commit("setSnackBar",s)}catch(s){var a={status:!0,text:e.toString(),timeout:4e3,closeText:""};t.$store.commit("setSnackBar",a)}})}}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"back"},[s("v-tabs",{attrs:{"icons-and-text":"",centered:"",dark:"",color:"primary",grow:""}},[s("v-tabs-slider",{attrs:{color:"yellow"}}),t._v(" "),s("v-tab",{attrs:{href:"#tab-1"},on:{click:t.getMyPats}},[t._v("\n      我的照護病人\n      "),s("v-icon",[t._v("favorite")])],1),t._v(" "),s("v-tab",{attrs:{href:"#tab-2"}},[t._v("\n      住院患者清單\n      "),s("v-icon",[t._v("face")])],1),t._v(" "),s("v-tab-item",{attrs:{id:"tab-1"}},[s("my-patient-list",{attrs:{myPats:this.myPats,myPatsLoading:this.loading}})],1),t._v(" "),s("v-tab-item",{attrs:{id:"tab-2"}},[s("inp-patient-list",{attrs:{myPats:this.myPats}})],1)],1)],1)},staticRenderFns:[]};var j=s("VU/8")(D,T,!1,function(t){s("z2Rv")},"data-v-761fd3d5",null).exports,N=s("//Fk"),F=s.n(N),L={name:"WebCam",props:["start"],data:function(){return{WebStream:null}},watch:{start:function(t,e){t&&this.startup()}},methods:{closeWebCam:function(){this.$store.commit("toggleWebCam")},startup:function(){var t=160,e=0,s=!1,a=null,i=null,n=null,r=null,o=null,l=null,c=null;function d(){var t=i.getContext("2d");t.fillStyle="#AAA",t.fillRect(0,0,i.width,i.height);var e=i.toDataURL("image/png");n.setAttribute("src",e)}a=document.getElementById("video"),i=document.getElementById("canvas"),n=document.getElementById("photo"),r=document.getElementById("startbutton"),o=document.getElementById("btn-stopStream"),l=document.getElementById("errMsg"),void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(t){var e=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return e?new F.a(function(s,a){e.call(navigator,t,s,a)}):F.a.reject(new Error("getUserMedia is not implemented in this browser"))}),navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(function(t){"srcObject"in a?a.srcObject=t:a.src=window.URL.createObjectURL(t),!(c=t).stop&&c.getTracks&&(c.stop=function(){this.getTracks().forEach(function(t){t.stop()})}),a.onloadedmetadata=function(t){a.play()}}).catch(function(t){l.innerHTML=t,console.log(t.name+": "+t.message)}),a.addEventListener("canplay",function(n){s||(e=a.videoHeight/(a.videoWidth/t),isNaN(e)&&(e=t/(4/3)),a.setAttribute("width",t),a.setAttribute("height",e),i.setAttribute("width",t),i.setAttribute("height",e),s=!0)},!1),r.addEventListener("click",function(s){!function(){var s=i.getContext("2d");if(t&&e){i.width=t,i.height=e,s.drawImage(a,0,0,t,e);var r=i.toDataURL("image/jpeg",.5);n.setAttribute("src",r)}else d()}(),s.preventDefault()},!1),o.addEventListener("click",function(t){c&&c.stop(),l.innerHTML="",t.preventDefault()},!1),d()},SaveThisPhoto:function(){var t=document.getElementById("photo").getAttribute("src");this.$emit("tempUpdateImg",t)}}},O={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{id:"grid",fluid:"","grid-list-sm":"",tag:"section"}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"headline",attrs:{tag:"h1"}},[s("v-card",{attrs:{dark:"",color:"primary"}},[s("v-card-text",[s("span",{staticStyle:{color:"red"},attrs:{id:"errMsg"}}),t._v(" "),s("h1",[t._v("拍攝大頭貼")])])],1)],1),t._v(" "),s("v-flex",{attrs:{"d-flex":"",xs12:"","order-xs5":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",[s("v-card",{attrs:{dark:"",color:"secondary"}},[s("v-card-text",[s("div",{staticClass:"camera"},[s("video",{attrs:{id:"video"}},[t._v("Video stream not available.")]),t._v(" "),s("button",{attrs:{id:"startbutton"}},[t._v("擷取照片")])])])],1)],1),t._v(" "),s("v-flex",[s("v-card",{attrs:{dark:"",color:"accent"}},[s("v-card-text",[s("canvas",{attrs:{id:"canvas"}}),t._v(" "),s("div",{staticClass:"output"},[s("img",{attrs:{id:"photo",alt:"The screen capture will appear in this box."}})]),t._v(" "),s("v-btn",{on:{click:t.SaveThisPhoto}},[t._v("確定使用這張圖")])],1)],1)],1)],1)],1)],1),t._v(" "),s("v-btn",{attrs:{id:"btn-stopStream"},on:{click:t.closeWebCam}},[t._v("關閉")])],1)},staticRenderFns:[]};var $={name:"Home",data:function(){return{showSnack:!1,memuStatus:!0,tempImgSrc:"/static/images/NoImage.jpg",patientInfo:{chartNo:"",ptName:"",bedNo:""}}},computed:{patientListStatus:{get:function(){return this.$store.state.SystemControl.AppHome_patientListStatus},set:function(){this.$store.commit("togglePtList")}},snackBar:{get:function(){return this.$store.state.SystemControl.AppHome_snackbar},set:function(){}},webCamStatus:{get:function(){return this.$store.state.SystemControl.AppHome_webCamStatus},set:function(){this.$store.commit("toggleWebCam")}}},created:function(){console.log("AppHome created() !!")},updated:function(){console.log("AppHome updated() !!")},mounted:function(){console.log("AppHome mounded() !!")},components:{WebCam:s("VU/8")(L,O,!1,function(t){s("MOFU")},"data-v-620a5634",null).exports,PatientCard1:m,AppFooter:h,AppHeader:f,AppArticle:y,AppAside:w,PatientList1:j},methods:{closeSnackBar:function(){var t=this.$store.state.SystemControl.AppHome_snackbar;t.status=!1,this.$store.commit("setSnackBar",t)},menuClick:function(t){this.memuStatus=!this.memuStatus},patientListClick:function(t){this.$store.commit("togglePtList")},webCamClick:function(t){this.$store.commit("toggleWebCam")},logOut:function(){alert("Logout !!"),this.$store.commit("clearPt"),this.$store.commit("logoutProc"),this.$router.replace("/")},tempUpdateImg:function(t){this.tempImgSrc=t}}},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{staticClass:"back",attrs:{id:"app-home"}},[s("v-navigation-drawer",{attrs:{fixed:"",app:""},model:{value:t.memuStatus,callback:function(e){t.memuStatus=e},expression:"memuStatus"}},[s("v-toolbar",{attrs:{color:"secondary",light:""}},[s("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.memuStatus=!t.memuStatus}}}),t._v(" "),s("v-spacer"),t._v(" "),s("v-badge",{attrs:{color:"red",left:""}},[s("span",{attrs:{slot:"badge"},slot:"badge"},[t._v("3")]),t._v(" "),s("v-icon",{attrs:{medium:"",color:"grey"}},[t._v("mail")])],1),t._v(" "),s("v-badge",{attrs:{color:"orange"}},[s("span",{attrs:{slot:"badge"},slot:"badge"},[t._v("1")]),t._v(" "),s("v-icon",{attrs:{medium:"",color:"grey darken-1"}},[t._v("event_note")])],1),t._v(" "),s("span",[t._v("..")])],1),t._v(" "),s("PatientCard1",{attrs:{tempImgSrc:t.tempImgSrc},on:{showWebCam:t.webCamClick}}),t._v(" "),s("AppAside")],1),t._v(" "),s("AppHeader",{on:{menu_click:t.menuClick,PatientList_click:t.patientListClick,Logout:t.logOut}}),t._v(" "),s("v-container",{attrs:{fluid:""}},[s("router-view")],1),t._v(" "),s("AppFooter"),t._v(" "),s("v-dialog",{attrs:{"max-width":"1200",value:"false",scrollable:""},model:{value:t.patientListStatus,callback:function(e){t.patientListStatus=e},expression:"patientListStatus"}},[s("v-card",[s("v-card-text",[s("patient-list1")],1),t._v(" "),s("v-card-actions")],1)],1),t._v(" "),s("v-dialog",{attrs:{"max-width":"1200",value:"false",scrollable:"",persistent:""},model:{value:t.webCamStatus,callback:function(e){t.webCamStatus=e},expression:"webCamStatus"}},[s("v-card",[s("v-card-text",[s("web-cam",{attrs:{start:t.webCamStatus},on:{tempUpdateImg:t.tempUpdateImg}})],1)],1)],1),t._v(" "),s("v-snackbar",{attrs:{timeout:t.snackBar.timeout},model:{value:t.snackBar.status,callback:function(e){t.$set(t.snackBar,"status",e)},expression:"snackBar.status"}},[t._v("\n      "+t._s(t.snackBar.text)+"\n      "),s("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){return t.closeSnackBar(e)}}},[t._v(t._s(t.snackBar.closeText))])],1)],1)},staticRenderFns:[]};var M=s("VU/8")($,R,!1,function(t){s("8Quy")},"data-v-7262a99e",null).exports,U={name:"Login",data:function(){return{showMessage:!1,message:"",source:"",userId:"",password:"",loginUser:[],processStatus:!1}},methods:{Logining:function(){var t=this;this.showMessage=!1,this.processStatus=!0;var e="/iFormSys/rest/login/"+this.userId+"/"+this.password;this.$http.get(e).then(function(e){t.loginUser=e.data.resultSet,console.log("Login : "+t.loginUser[0].empName),t.$store.commit("loginProc",t.loginUser[0]),t.processStatus=!1,t.$router.push("home")}).catch(function(e){console.log("Login: error : "+e),t.processStatus=!1;try{t.message=e.response.data.message}catch(s){t.message=e.toString()}t.showMessage=!0})},NextItem:function(){document.getElementById("password").focus()}}},V={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{attrs:{id:"login"}},[s("v-layout",{staticClass:"back",attrs:{"align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("v-card",{staticClass:"elevation-12"},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[t._v("護理資訊系統")]),t._v(" "),s("v-spacer"),t._v(" "),s("v-tooltip",{attrs:{right:""}},[s("v-btn",{attrs:{slot:"activator",href:t.source,icon:"",large:"",target:"_blank"},slot:"activator"},[s("v-icon",{attrs:{large:""}},[t._v("code")])],1),t._v(" "),s("span",[t._v("版本資訊 V1.0.0.2")])],1)],1),t._v(" "),s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{"prepend-icon":"person",name:"login",label:"使用者代號",type:"text"},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.NextItem(e):null}},model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}}),t._v(" "),s("v-text-field",{attrs:{id:"password","prepend-icon":"lock",name:"password",label:"密碼",type:"password"},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.Logining(e):null}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer",[t._v("請輸入使用者帳號與密碼 !!")]),t._v(" "),s("v-btn",{attrs:{color:"primary"},on:{click:t.Logining}},[t._v("登入")])],1),t._v(" "),s("v-progress-linear",{attrs:{indeterminate:t.processStatus}})],1),t._v(" "),s("v-alert",{attrs:{value:t.showMessage,type:"error"}},[t._v("\n            "+t._s(t.message)+"\n          ")])],1)],1)],1)},staticRenderFns:[]};var B=s("VU/8")(U,V,!1,function(t){s("0X1o")},"data-v-864d82a0",null).exports,A={name:"FormViewer",props:["propsformtype"],data:function(){return{message:"Hello !!",formKindSelect:"",resultSetFormKindL1:"",resultSetFormKindL2:"",selectFormKind:"",selectFormTitle:"",resultSetFormList:"",formContentDecode:"<h2>{{FD.HOSP_NAME}}</h2>",FD:{HOSP_NAME:"AAAA"},LD:{},memuStatus:!0,addForm:{addRawKey:"",addTitle:"",addFormCode:"",addFormVersion:""},showAllGroup:!1,o_propsformtype:""}},watch:{showAllGroup:function(){1==this.showAllGroup?this.o_propsformtype="":this.o_propsformtype=this.propsformtype}},created:function(){var t=this;this.o_propsformtype=this.propsformtype,console.log("FormViewer2- props:"+this.propsformtype);var e="/iFormSys/rest/formkind";console.log("ben get L1 url : "+e),this.$http.get(e).then(function(e){t.resultSetFormKindL1=e.data.resultSet,console.log("get formkind : "+t.resultSetFormKindL1[0].formTitle)}).catch(function(t){console.log("formmenu: error : "+t)})},methods:{onChangeL1:function(t,e){var s=this;this.selectFormKind=t,this.selectFormTitle=e;var a="/iFormSys/rest/formkind/"+t+"/all";console.log("ben get L2 url : "+a),this.$http.get(a).then(function(t){s.resultSetFormKindL2=t.data.resultSet,console.log("ben get result(formselect.vue:onChangeL1) : "+s.fesultSetFormKindL2)}).catch(function(t){console.log(t)})},onSelect:function(t,e,s,a){var i=this;this.addForm.addRawKey=t,this.addForm.addFormCode=e,this.addForm.addFormVersion=s,this.addForm.addTitle=a;var n="/iFormSys/rest/formlist/"+e+"/"+s;this.$http.get(n).then(function(t){i.resultSetFormList=t.data.resultSet[0],i.formContentDecode=decodeURIComponent(escape(window.atob(i.resultSetFormList.formContent)))}).catch(function(t){console.log(t)})},onAdd:function(){this.$emit("addform",this.addForm)}}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{staticClass:"back",attrs:{row:""}},[t.memuStatus?s("v-flex",{staticClass:"div-left",attrs:{xs3:"",sm3:"",md3:"","hidden-sm-only":""}},[s("v-toolbar",{attrs:{color:"primary",height:"40",dark:""}},[s("v-toolbar-title",[t._v("表單類別")]),t._v(" "),s("v-spacer"),t._v(" "),s("v-switch",{model:{value:t.showAllGroup,callback:function(e){t.showAllGroup=e},expression:"showAllGroup"}})],1),t._v(" "),s("v-radio-group",{attrs:{column:""},model:{value:t.formKindSelect,callback:function(e){t.formKindSelect=e},expression:"formKindSelect"}},t._l(t.resultSetFormKindL1,function(e){return e.formType==(""!==t.o_propsformtype?t.o_propsformtype:e.formType)?s("v-radio",{key:e.rawPk,staticClass:"formKindRadio",attrs:{color:"primary",label:e.formTitle,value:e.formType},on:{change:function(s){t.onChangeL1(e.formType,e.formTitle)}}}):t._e()})),t._v(" "),s("v-card",{staticClass:"div-left"},[s("v-toolbar",{attrs:{color:"primary",dark:"",height:"40"}},[s("v-toolbar-title",[t._v(t._s(t.selectFormTitle))])],1),t._v(" "),s("v-list",{staticClass:"div-left"},t._l(t.resultSetFormKindL2,function(e){return s("v-list-group",{key:e.rawPk,staticClass:"div-left",attrs:{"no-action":""}},[s("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.formTitle))])],1)],1),t._v(" "),t._l(e.formlists,function(e){return s("v-list-tile",{key:e.rawPk,on:{click:function(s){t.onSelect(e.rawPk,e.formCode,e.formVersion,e.formTitle)}}},[s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.formTitle))])],1)],1)})],2)}))],1)],1):t._e(),t._v(" "),s("v-flex",{attrs:{xs9:"",sm9:"",md9:""}},[s("v-btn",{attrs:{dark:"",fab:"",small:"",fixed:"",color:"accent"},on:{click:function(e){t.onAdd()}}},[s("v-icon",[t._v("add")])],1),t._v(" "),s("div",{staticClass:"formcss",attrs:{id:"formContent"},domProps:{innerHTML:t._s(t.formContentDecode)}})],1)],1)},staticRenderFns:[]};var H=s("VU/8")(A,E,!1,function(t){s("J334")},"data-v-7119130d",null).exports,z=s("c/Tr"),W=s.n(z),K=s("lHA8"),q=s.n(K),X={name:"FormViewer2",data:function(){return{FormViewerStatus:!1,PtForm:[],key:"",FixFormType:"NURSING_FORM"}},components:{FormViewer:H},created:function(){this.refreshList()},computed:{GroupDate:function(){var t=new q.a;if(this.PtForm){for(var e=0;e<this.PtForm.length;e++){var s=this.$UtilityJs.AD2ROC_Date(this.PtForm[e].createDate);console.log("key="+s+" "+this.PtForm[e].createDate),t.add(s)}return W()(t.values())}}},methods:{addForm:function(t){this.FormViewerStatus=!1;var e=t.addFormCode+"_v"+t.addFormVersion+".html",s=this.$store.state.SystemControl.FormViewer_url+e+"?formlistPk="+t.addRawKey+"&chartNo="+this.$store.state.patientInfo.chartNo+"&serNo="+this.$store.state.patientInfo.serno+"&userId="+this.$store.state.loginUser.empNo+"&formlistTitle="+t.addTitle+"&formlistName="+e;console.log("add form href  = "+s),window.open(s,"formCont")},procFilterData:function(t){var e=this;return console.log("filterStr="+t),this.PtForm.filter(function(s){return e.$UtilityJs.AD2ROC_Date(s.createDate)==t})},refreshList:function(t){var e=this;if(this.$store.state.patientInfo.chartNo){var s="/iNursingSrv/rest/ptform/"+this.$store.state.patientInfo.chartNo+"/"+this.$store.state.patientInfo.serno;console.log("url="+s),this.$http.get(s).then(function(t){e.PtForm=t.data.resultSet,console.log("get ptform : "+e.PtForm)}).catch(function(t){console.log("get ptform : error : "+t)})}},iframeLoad:function(){var t=this.$refs.iframe.contentWindow.vm;console.log("iframeLoad : "+t)}}},G={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{attrs:{width:"100%"}},[s("v-layout",{attrs:{row:"",hidden:""}},[s("v-flex",{staticClass:"div-left",attrs:{xs2:"",sm2:"",md2:"",xl2:"","hidden-sm-only":""}},[s("v-btn",{attrs:{dark:"",fab:"",top:"",small:"",right:"",color:"accent"},on:{click:function(e){t.FormViewerStatus=!0}}},[s("v-icon",[t._v("add")])],1),t._v(" "),s("b",[t._v("護理表單")]),t._v(" "),s("v-btn",{attrs:{dark:"",fab:"",top:"",left:"",small:"",color:"secondary"},on:{click:t.refreshList}},[s("v-icon",[t._v("cached")])],1),t._v(" "),s("v-expansion-panel",{attrs:{id:"formPtList",expand:""}},t._l(t.GroupDate,function(e,a){return s("v-expansion-panel-content",{key:e},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(e))]),t._v(" "),s("v-card",[s("ul",t._l(t.procFilterData(e),function(e){return s("li",[s("a",{attrs:{href:t.$store.state.SystemControl.FormViewer_url+e.formlistName+"?rawPk="+e.rawPk+"&userId="+t.$store.state.loginUser.empNo,target:"formCont"}},[t._v(t._s(e.formlistTitle))])])}))])],1)}))],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm12:"",md10:"",xl10:"",height:"100%"}},[s("iframe",{ref:"iframe",attrs:{id:"formCont",name:"formCont",src:""},on:{savereturn:t.refreshList,load:t.iframeLoad}})])],1),t._v(" "),s("v-dialog",{attrs:{"max-width":"1200",value:"false",scrollable:""},model:{value:t.FormViewerStatus,callback:function(e){t.FormViewerStatus=e},expression:"FormViewerStatus"}},[s("form-viewer",{attrs:{propsformtype:t.FixFormType},on:{addform:t.addForm}})],1)],1)},staticRenderFns:[]};var Z=s("VU/8")(X,G,!1,function(t){s("8CXm")},"data-v-53b1d51c",null).exports,Y=s("woOf"),J=s.n(Y),Q=s("8AgW"),tt=s.n(Q);a.default.use(tt.a);var et={name:"TprRecordList",data:function(){var t=this;return{pagination:{sortBy:"assessDate",rowsPerPage:12},pageItem:[{text:12,value:12},{text:20,value:20},{text:"All",value:-1}],pageText:"每頁筆數 :",abdoRules:[function(t){return t.length<=5||"腹圍 數值異常"}],rules:{required:function(t){return!!t||"Required."},counter:function(t){return t.length<=20||"Max 20 characters"},date:function(e){return t.isValidDate(e)||"Invalid Date."},time:function(e){return t.isValidTime(e)||"Invalid Time."},temp:function(t){return null!=t||"34.0 ~ 42.0 (°C)"},tempMin:function(t){return""==t&&t.length>=0||t>=34||"體溫過低"},tempMax:function(t){return t<=42||"體溫過高"},tempVal:function(t){return null!=t&&(t||"").length<0||""},pulse:function(t){return null!=t||"40 ~ 180 (次/分)"},pulseMin:function(t){return""==t&&t.length>=0||t>=40||"脈搏過低"},pulseMax:function(t){return t<=180||"脈搏過高"},pulseVal:function(t){return null!=t&&(t||"").length>0||""},resp:function(t){return null!=t||"5 ~ 80 (次/分)"},respMin:function(t){return""==t&&t.length>=0||t>=5||"呼吸過低"},respMax:function(t){return t<=80||"呼吸過高"},respVal:function(t){return null!=t&&(t||"").length>0||""},weight:function(t){return null!=t||"30.0 ~ 200.0 (kg)"},weightMin:function(t){return""==t&&t.length>=0||t>=30||"體重過低"},weightMax:function(t){return t<=200||"體重過高"},weightVal:function(t){return null!=t&&(t||"").length>0||""},sp:function(t){return null!=t||"40 ~ 300 (mmHg)"},spMin:function(t){return""==t&&t.length>=0||t>=40||"收縮壓過低"},spMax:function(t){return t<=300||"收縮壓過高"},spVal:function(t){return null!=t&&(t||"").length>0||""},dp:function(t){return null!=t||"10 ~ 300 (mmHg)"},dpMin:function(t){return""==t&&t.length>=0||t>=10||"舒張壓過低"},dpMax:function(t){return t<=300||"舒張壓過高"},dpVal:function(t){return(null!=t&&(t||"").length)>0||""},pain:function(t){return null!=t||"(vas 0-10)"},painMin:function(t){return t>=0||"疼痛指數(vas 0-10)"},painMax:function(t){return t<=10||"疼痛指數(vas 0-10)"}},loading:!1,tprChartNo:912473,tprSerno:107689,disableInput:!1,disableSaveBtn:!1,selected:[],dialog:!1,deleteDialog:!1,deleteContent:"",search:"",showSnack:!1,timeout:2e3,SnackText:"SnackBar",editedIndex:-1,deletedIndex:-1,editedItem:{assessDate:"",assessTime:"",temperature:"",pulse:"",respiration:"",systolicPressure:"",diastolicPressure:"",pain:"",weight:"",abdominal:"",ivFluids:"",diet:"",bleed:"",stool:"",urine:"",drainage:"",chartNo:"",keyinClerk:"",keyinDate:"",keyinTime:"",serno:""},defaultItem:{assessDate:"",assessTime:"",temperature:"",pulse:"",respiration:"",systolicPressure:"",diastolicPressure:"",pain:"",weight:"",abdominal:"",ivFluids:"",diet:"",bleed:"",stool:"",urine:"",drainage:"",chartNo:"",keyinClerk:"",keyinDate:"",keyinTime:"",serno:""},TPRDetailList:[],tprHeaders:[{text:"",align:"center"},{text:"日期 ",value:"assessDate",class:"px-1"},{text:"時間 ",value:"assessTime",class:"px-1"},{text:"體溫<br/>(°C)",value:"temperature",class:"px-1"},{text:"脈搏<br/>(次/分)",value:"pulse",class:"px-1"},{text:"呼吸<br/>(次/分)",value:"respiration",class:"px-1"},{text:"血壓(mmHg)<br/>(收縮/舒張壓)",value:"systolicPressure",class:"px-1"},{text:"疼痛<br/>(vas 0-10)",value:"pain",class:"px-1"},{text:"體重<br/>(kg)",value:"weight",class:"px-1"},{text:"腹圍<br/>(cm)",value:"abdominal",class:"px-1"},{text:"注射量<br/>(cc)",value:"ivFluids",class:"px-1"},{text:"飲食量<br/>(cc)",value:"diet",class:"px-1"},{text:"輸血量<br/>(cc)",value:"bleed",class:"px-1"},{text:"大便量<br/>(cc)",value:"stool",class:"px-1"},{text:"小便量<br/>(cc)",value:"urine",class:"px-1"},{text:"引流量<br/>(cc)",value:"drainage",class:"px-1"}]}},created:function(){this.axios_getTprDetailListData()},mounted:function(){window.onresize=function(t){var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,s=document.getElementById("TprTable"),a=e-330;s&&s.setAttribute("style","overflow-y: auto;min-height:"+a+"px;max-height:"+a+"px;")}},methods:{isValidDate:function(t){if(null==t||""==t||void 0==t)return!1;if(7==t.length){var e=parseInt(t.substring(0,3))+1911,s=t.substring(3,5),a=t.substring(5,7);return!!this.$moment(e+s+a+"","YYYYMMDD").isValid()}return!1},isValidTime:function(t){return null!=t&&""!=t&&void 0!=t&&(4==t.length&&!!this.$moment(t,"HHmm").isValid())},getNowDate:function(){var t=new Date,e=t.getMonth()+1,s=t.getDate(),a=t.getFullYear(),i=parseInt(e),n=parseInt(s);return(a<1e3?a:a-1911)+""+(i<10?"0"+i:i)+(n<10?"0"+n:n)},getNowTime:function(){var t=new Date,e=t.getHours(),s=t.getMinutes();return(e<10?"0"+e:e)+""+(s<10?"0"+s:s)},formatterDate:function(t){return c(t)},axios_postTprRecordData:function(t){var e=this;this.$http.post("/iNursingSrv/rest/tprrecord/s",t).then(function(t){if("INFO"==t.data.status){var s={status:!0,text:t.data.message,timeout:4e3,closeText:""};e.$store.commit("setSnackBar",s),e.axios_getTprDetailListData()}}).catch(function(t){try{var s={status:!0,text:t.response.data.message,timeout:4e3,closeText:""};e.$store.commit("setSnackBar",s)}catch(t){}})},axios_putTprRecordData:function(t){var e=this;this.$http.put("/iNursingSrv/rest/tprrecord/s",t).then(function(t){if("INFO"==t.data.status){var s={status:!0,text:t.data.message,timeout:4e3,closeText:""};e.$store.commit("setSnackBar",s),e.axios_getTprDetailListData()}}).catch(function(t){try{var s={status:!0,text:t.response.data.message,timeout:4e3,closeText:""};e.$store.commit("setSnackBar",s)}catch(t){}})},axios_deleteTprRecordData:function(t,e,s,a){var i=this,n="/iNursingSrv/rest/tprrecord/s/"+t+"/"+e+"/"+s+"/"+a;this.$http.delete(n).then(function(t){if("INFO"==t.data.status){var e={status:!0,text:t.data.message,timeout:4e3,closeText:""};i.$store.commit("setSnackBar",e),i.axios_getTprDetailListData()}}).catch(function(t){try{var e={status:!0,text:t.response.data.message,timeout:4e3,closeText:""};i.$store.commit("setSnackBar",e)}catch(t){}})},axios_getTprDetailListData:function(){var t=this;if(this.tprChartNo=this.patientInfo.chartNo,this.tprSerno=this.patientInfo.serno,""==this.tprChartNo||""==this.tprSerno)this.$store.state.SystemControl.AppHome_patientListStatus=!1,this.$store.commit("togglePtList");else{this.loading=!0;var e="/iNursingSrv/rest/tprrecordchart/bychartnoserno/"+this.tprChartNo+"/"+this.tprSerno;this.$http.get(e).then(function(e){t.TPRDetailList=e.data.resultSet,t.loading=!1,void 0==t.TPRDetailList&&(t.TPRDetailList=[]);var s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=document.getElementById("TprTable"),i=s-330;a&&a.setAttribute("style","overflow-y: auto;min-height:"+i+"px;max-height:"+i+"px;")}).catch(function(e){try{console.log(e.response.data.message)}catch(t){}t.loading=!1})}},editItem:function(t){this.editedIndex=this.TPRDetailList.indexOf(t);var e=this.editedIndex,s=this.TPRDetailList[e].keyinClerk;s==this.loginUser.empNo?(this.disableInput=!0,this.editedItem=J()({},t),this.dialog=!0):(this.showSnack=!0,this.SnackText="您並非輸入者 "+s+" 無編輯權限",this.editedIndex=-1)},deleteItem:function(t){var e=this.TPRDetailList.indexOf(t),s=this.TPRDetailList[e].keyinClerk;if(s==this.loginUser.empNo){var a="確定要刪除 <br/> 日期:"+this.TPRDetailList[e].assessDate+" <br/>時間:"+this.TPRDetailList[e].assessTime;this.deleteDialog=!0,this.deleteContent=a,this.deletedIndex=e}else this.showSnack=!0,this.SnackText="您並非輸入者 "+s+" 無刪除權限",this.editedIndex=-1},confirmDelete:function(){var t=this.deletedIndex;this.tprChartNo=this.patientInfo.chartNo,this.tprSerno=this.patientInfo.serno,this.axios_deleteTprRecordData(this.tprChartNo,this.tprSerno,this.TPRDetailList[t].assessDate,this.TPRDetailList[t].assessTime),this.deleteDialog=!1},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=J()({},t.defaultItem),t.editedIndex=-1},300)},save:function(){if(this.editedIndex>-1){var t=this.editedIndex;this.tprChartNo=this.patientInfo.chartNo,this.tprSerno=this.patientInfo.serno;var e={chartNo:this.tprChartNo,serno:this.tprSerno,assessDate:this.editedItem.assessDate,assessTime:this.editedItem.assessTime,temperature:""==this.editedItem.temperature?0:parseFloat(this.editedItem.temperature),systolicPressure:""==this.editedItem.systolicPressure?0:parseInt(this.editedItem.systolicPressure),diastolicPressure:""==this.editedItem.diastolicPressure?0:parseInt(this.editedItem.diastolicPressure),pulse:""==this.editedItem.pulse?0:parseInt(this.editedItem.pulse),respiration:""==this.editedItem.respiration?0:parseInt(this.editedItem.respiration),weight:""==this.editedItem.weight?0:parseFloat(this.editedItem.weight),abdominal:""==this.editedItem.abdominal?0:parseFloat(this.editedItem.abdominal),ivFluids:""==this.editedItem.ivFluids?0:parseInt(this.editedItem.ivFluids),diet:""==this.editedItem.diet?0:parseInt(this.editedItem.ivFluids),bleed:""==this.editedItem.bleed?0:parseInt(this.editedItem.bleed),stool:this.editedItem.stool,urine:""==this.editedItem.urine?0:parseInt(this.editedItem.urine),drainage:""==this.editedItem.drainage?0:parseInt(this.editedItem.drainage),pain:""==this.editedItem.pain?0:parseInt(this.editedItem.pain),keyinClerk:this.TPRDetailList[t].keyinClerk,keyinDate:this.TPRDetailList[t].keyinDate,keyinTime:this.TPRDetailList[t].keyinTime,modifyClerk:this.loginUser.empNo,modifyDate:this.getNowDate(),modifyTime:this.getNowTime()};this.axios_putTprRecordData(e),this.close()}else{var s=this.isValidDate(this.editedItem.assessDate),a=this.isValidTime(this.editedItem.assessTime);if(""==this.editedItem.assessDate||""==this.editedItem.assessTime)this.showSnack=!0,this.SnackText="請輸入日期 時間";else if(s&&a){this.editedItem.keyinClerk=this.loginUser.empNo,this.tprChartNo=this.patientInfo.chartNo,this.tprSerno=this.patientInfo.serno;var i={chartNo:this.tprChartNo,serno:this.tprSerno,assessDate:this.editedItem.assessDate,assessTime:this.editedItem.assessTime,temperature:""==this.editedItem.temperature?0:parseFloat(this.editedItem.temperature),systolicPressure:""==this.editedItem.systolicPressure?0:parseInt(this.editedItem.systolicPressure),diastolicPressure:""==this.editedItem.diastolicPressure?0:parseInt(this.editedItem.diastolicPressure),pulse:""==this.editedItem.pulse?0:parseInt(this.editedItem.pulse),respiration:""==this.editedItem.respiration?0:parseInt(this.editedItem.respiration),weight:""==this.editedItem.weight?0:parseFloat(this.editedItem.weight),abdominal:""==this.editedItem.abdominal?0:parseFloat(this.editedItem.abdominal),ivFluids:""==this.editedItem.ivFluids?0:parseInt(this.editedItem.ivFluids),diet:""==this.editedItem.diet?0:parseInt(this.editedItem.ivFluids),bleed:""==this.editedItem.bleed?0:parseInt(this.editedItem.bleed),stool:this.editedItem.stool,urine:""==this.editedItem.urine?0:parseInt(this.editedItem.urine),drainage:""==this.editedItem.drainage?0:parseInt(this.editedItem.drainage),pain:""==this.editedItem.pain?0:parseInt(this.editedItem.pain),keyinClerk:this.loginUser.empNo,keyinDate:this.getNowDate(),keyinTime:this.getNowTime(),modifyClerk:this.loginUser.empNo,modifyDate:this.getNowDate(),modifyTime:this.getNowTime()};this.axios_postTprRecordData(i),this.close()}else this.showSnack=!0,this.SnackText="日期或時間格式錯誤"}},changeSort:function(t){this.pagination.sortBy===t?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=t,this.pagination.descending=!1)},formatterZero:function(t){return 0==t?"":t},inputLimit:function(t,e,s){0==t.toString().length?this.disableSaveBtn=!1:1==t.toString().length?t<e&&(this.disableSaveBtn=!0,this.showSnack=!0,this.SnackText="輸入的數字需介於 "+e+" ~ "+s+"之間"):t.toString().length>=2&&s.toString().length>=2?t<e?(this.disableSaveBtn=!0,this.showSnack=!0,this.SnackText="輸入的數字需介於 "+e+" ~ "+s+"之間"):t>s?(this.disableSaveBtn=!0,this.showSnack=!0,this.SnackText="輸入的數字需介於 "+e+" ~ "+s+"之間"):this.disableSaveBtn=!1:this.disableSaveBtn=!1},inputChange:function(t){var e=t.target.value,s=t.target.getAttribute("min"),a=t.target.getAttribute("max");s=parseInt(s),a=parseInt(a),e=parseInt(e);try{this.inputLimit(e,s,a)}catch(t){}}},computed:{formTitle:function(){return-1===this.editedIndex?"新增 TPR 生命徵象紀錄單":"編輯 TPR 生命徵象紀錄單"},patientInfo:function(){return this.$store.state.patientInfo},loginUser:function(){return this.$store.state.loginUser},pages:function(){return null==this.pagination.rowsPerPage||null==this.pagination.totalItems?0:(this.pagination.totalItems=this.TPRDetailList.length,this.pagination.page=1,Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage))}},watch:{dialog:function(t){if(-1==this.editedIndex&&1==this.dialog){this.disableInput=!1;var e=new Date,s=e.getMonth()+1,a=e.getDate(),i=e.getFullYear(),n=parseInt(s),r=parseInt(a),o=n<10?"0"+n:n,l=r<10?"0"+r:r,c=i<1e3?i:i-1911;this.editedItem.assessDate=c+""+o+l;var d=e.getHours(),u=e.getMinutes(),m=d<10?"0"+d:d,p=u<10?"0"+u:u;this.editedItem.assessTime=m+""+p}else 0==this.dialog&&(this.disableSaveBtn=!1);t||this.close()},"editedItem.assess_date":function(t){-1==this.editedIndex&&0==this.dialog&&(this.editedItem.assessDate=t)},"editedItem.assess_time":function(t){-1==this.editedIndex&&0==this.dialog&&(this.editedItem.assessTime=t)}}},st={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{attrs:{xs12:""}},[s("v-card",[s("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[""!=t.tprChartNo?s("v-btn",{staticClass:"mb-2 mt-0",attrs:{slot:"activator",dark:"",fab:"",top:"",right:"",color:"green"},slot:"activator"},[s("v-icon",[t._v("add")])],1):t._e(),t._v(" "),s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),t._v(" "),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{rules:[t.rules.date],label:"日期",disabled:t.disableInput},model:{value:t.editedItem.assessDate,callback:function(e){t.$set(t.editedItem,"assessDate",e)},expression:"editedItem.assessDate"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{rules:[t.rules.time],label:"時間",disabled:t.disableInput},model:{value:t.editedItem.assessTime,callback:function(e){t.$set(t.editedItem,"assessTime",e)},expression:"editedItem.assessTime"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{rules:[t.rules.temp,t.rules.tempMin,t.rules.tempMax],name:"temperature",type:"number",min:"34.0",max:"42.0",step:"0.1",label:"體溫"},on:{keyup:t.inputChange},model:{value:t.editedItem.temperature,callback:function(e){t.$set(t.editedItem,"temperature",e)},expression:"editedItem.temperature"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{rules:[t.rules.pulse,t.rules.pulseMin,t.rules.pulseMax],name:"pulse",type:"number",min:"40",max:"180",step:"1",label:"脈搏"},on:{keyup:t.inputChange},model:{value:t.editedItem.pulse,callback:function(e){t.$set(t.editedItem,"pulse",e)},expression:"editedItem.pulse"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{rules:[t.rules.resp,t.rules.respMin,t.rules.respMax],name:"respiration",type:"number",min:"5",max:"80",step:"1",label:"呼吸"},on:{keyup:t.inputChange},model:{value:t.editedItem.respiration,callback:function(e){t.$set(t.editedItem,"respiration",e)},expression:"editedItem.respiration"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{rules:[t.rules.weight,t.rules.weightMin,t.rules.weightMax],name:"weight",type:"number",min:"30.0",max:"200.0",step:"0.1",label:"體重"},on:{keyup:t.inputChange},model:{value:t.editedItem.weight,callback:function(e){t.$set(t.editedItem,"weight",e)},expression:"editedItem.weight"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{rules:[t.rules.sp,t.rules.spMin,t.rules.spMax],name:"systolicPressure",type:"number",min:"40",max:"300",step:"1",label:"收縮壓"},on:{keyup:t.inputChange},model:{value:t.editedItem.systolicPressure,callback:function(e){t.$set(t.editedItem,"systolicPressure",e)},expression:"editedItem.systolicPressure"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{rules:[t.rules.dp,t.rules.dpMin,t.rules.dpMax],name:"diastolicPressure",type:"number",min:"10",max:"300",step:"1",label:"舒張壓"},on:{keyup:t.inputChange},model:{value:t.editedItem.diastolicPressure,callback:function(e){t.$set(t.editedItem,"diastolicPressure",e)},expression:"editedItem.diastolicPressure"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{rules:[t.rules.painMin,t.rules.painMax],name:"pain",type:"number",min:"0",max:"10",step:"1",label:"疼痛"},on:{keyup:t.inputChange},model:{value:t.editedItem.pain,callback:function(e){t.$set(t.editedItem,"pain",e)},expression:"editedItem.pain"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{name:"abdominal",type:"number",label:"腹圍"},on:{keyup:t.inputChange},model:{value:t.editedItem.abdominal,callback:function(e){t.$set(t.editedItem,"abdominal",e)},expression:"editedItem.abdominal"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{name:"ivFluids",type:"number",label:"注射量"},on:{keyup:t.inputChange},model:{value:t.editedItem.ivFluids,callback:function(e){t.$set(t.editedItem,"ivFluids",e)},expression:"editedItem.ivFluids"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{name:"diet",type:"number",label:"飲食量"},on:{keyup:t.inputChange},model:{value:t.editedItem.diet,callback:function(e){t.$set(t.editedItem,"diet",e)},expression:"editedItem.diet"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{name:"bleed",label:"輸血量",type:"number"},on:{keyup:t.inputChange},model:{value:t.editedItem.bleed,callback:function(e){t.$set(t.editedItem,"bleed",e)},expression:"editedItem.bleed"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{name:"stool",type:"text",label:"大便量"},on:{keyup:t.inputChange},model:{value:t.editedItem.stool,callback:function(e){t.$set(t.editedItem,"stool",e)},expression:"editedItem.stool"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{name:"urine",type:"number",label:"小便量"},on:{keyup:t.inputChange},model:{value:t.editedItem.urine,callback:function(e){t.$set(t.editedItem,"urine",e)},expression:"editedItem.urine"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-text-field",{attrs:{name:"drainage",type:"number",label:"引流量"},on:{keyup:t.inputChange},model:{value:t.editedItem.drainage,callback:function(e){t.$set(t.editedItem,"drainage",e)},expression:"editedItem.drainage"}})],1)],1)],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("取消")]),t._v(" "),s("v-btn",{attrs:{color:"blue darken-1",flat:"",disabled:t.disableSaveBtn},nativeOn:{click:function(e){return t.save(e)}}},[t._v("送出")])],1)],1)],1),t._v(" "),s("v-data-table",{staticClass:"elevation-1",attrs:{id:"TprTable","hide-actions":"",loading:t.loading,pagination:t.pagination,"rows-per-page-items":[{text:"All",value:-1},5,10,20],"rows-per-page-text":t.pageText,headers:t.tprHeaders,items:t.TPRDetailList,search:t.search,"item-key":"chart_no"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"headers",fn:function(e){return[s("tr",t._l(e.headers,function(e){return s("th",{key:e.text,class:["column sortable",t.pagination.descending?"desc":"asc",e.value===t.pagination.sortBy?"active":"","px-1"],on:{click:function(s){t.changeSort(e.value)}}},[s("v-icon",{attrs:{small:""}},[t._v(" arrow_upward")]),t._v(" "),s("span",{domProps:{innerHTML:t._s(e.text)}})],1)}))]}},{key:"items",fn:function(e){return[s("tr",[s("td",{staticClass:"justify-center layout px-0"},[s("v-btn",{staticClass:"mx-0",attrs:{icon:""},nativeOn:{click:function(s){s.stopPropagation(),t.editItem(e.item)}}},[s("v-icon",{attrs:{color:"teal"}},[t._v("edit")])],1),t._v(" "),s("v-btn",{staticClass:"mx-0",attrs:{icon:""},nativeOn:{click:function(s){s.stopPropagation(),t.deleteItem(e.item)}}},[s("v-icon",{attrs:{color:"pink"}},[t._v("delete")])],1)],1),t._v(" "),s("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(e.item.assessDate))]),t._v(" "),s("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(e.item.assessTime))]),t._v(" "),s("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(t.formatterZero(e.item.temperature)))]),t._v(" "),s("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(t.formatterZero(e.item.pulse)))]),t._v(" "),s("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(t.formatterZero(e.item.respiration)))]),t._v(" "),s("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(t.formatterZero(e.item.systolicPressure))+" / "+t._s(t.formatterZero(e.item.diastolicPressure)))]),t._v(" "),s("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(e.item.pain))]),t._v(" "),s("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(t.formatterZero(e.item.weight)))]),t._v(" "),s("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(t.formatterZero(e.item.abdominal)))]),t._v(" "),s("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(e.item.ivFluids))]),t._v(" "),s("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(e.item.diet))]),t._v(" "),s("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(e.item.bleed))]),t._v(" "),s("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(e.item.stool))]),t._v(" "),s("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(e.item.urine))]),t._v(" "),s("td",{staticClass:"px-1 text-xs-center"},[t._v(t._s(e.item.drainage))])])]}},{key:"pageText",fn:function(e){return[t._v("\n        第 "+t._s(e.pageStart)+" - "+t._s(e.pageStop)+" ,共 "+t._s(e.itemsLength)+" 筆\n      ")]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[s("template",{slot:"no-data"},[s("v-alert",{attrs:{value:t.loading,type:"warning"}},[t._v("\n          資料讀取中, 請稍後...\n        ")]),t._v(" "),s("v-alert",{attrs:{value:!t.loading,color:"error",icon:"warning"}},[t._v("\n          對不起, 目前沒有資料:(\n        ")])],1)],2),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",md8:"","text-xs-center":"","pt-2":""}},[s("v-pagination",{attrs:{length:t.pages,"total-visible":7},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",md2:"","pt-2":"","pr-2":"","pl-2":""}},[s("v-select",{attrs:{items:t.pageItem,label:"每頁筆數","item-value":"value"},model:{value:t.pagination.rowsPerPage,callback:function(e){t.$set(t.pagination,"rowsPerPage",e)},expression:"pagination.rowsPerPage"}})],1),t._v(" "),s("v-flex",{attrs:{xs6:"",md2:"","text-xs-left":"","pt-2":"","pr-2":""}},[s("v-text-field",{attrs:{label:"總筆數",readonly:""},model:{value:t.pagination.totalItems,callback:function(e){t.$set(t.pagination,"totalItems",e)},expression:"pagination.totalItems"}})],1)],1),t._v(" "),s("v-dialog",{attrs:{"max-width":"500"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v("刪除 TPR 生命徵象紀錄單")]),t._v(" "),s("v-card-text",{domProps:{innerHTML:t._s(t.deleteContent)}}),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},nativeOn:{click:function(e){t.deleteDialog=!1}}},[t._v("取消")]),t._v(" "),s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},nativeOn:{click:function(e){return t.confirmDelete(e)}}},[t._v("確定")])],1)],1)],1)],1),t._v(" "),s("v-snackbar",{attrs:{timeout:t.timeout},model:{value:t.showSnack,callback:function(e){t.showSnack=e},expression:"showSnack"}},[t._v("\n    "+t._s(t.SnackText)+"\n    ")])],1)},staticRenderFns:[]};var at=s("VU/8")(et,st,!1,function(t){s("pafc")},"data-v-0f0b2f34",null).exports,it=s("UlOv"),nt=s("cNRp"),rt=s.n(nt),ot=it.b.reactiveProp;a.default.use(rt.a);var lt={name:"TPRRecord",components:{TprRecordList:at,VueLineChart:{extends:it.a,mixins:[ot],props:["chartData","options"],name:"VueLineChart",mounted:function(){this.renderChart(this.chartData,this.options)}}},created:function(){},updated:function(){},mounted:function(){this.axios_getTprChartData(),window.onresize=function(t){var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=document.getElementById("line-chart"),i=document.getElementById("TprContent"),n=document.getElementById("TprTableContent");if(a){var r=e-222;i.style.height=r+100+"px",n.style.height=r+60+"px",this.chartHeight=r,this.chartWidth=s-50}}},computed:{patientInfo:function(){return this.$store.state.patientInfo}},watch:{selectChartValue:function(t){switch(t){case"TPR":this.fillData(this.xLabels,this.tprObj,this.minSteps[0],this.maxSteps[0],this.stepSizes[0]);break;case"T":this.fillData(this.xLabels,this.tObj,this.minSteps[1],this.maxSteps[1],this.stepSizes[1]);break;case"P":this.fillData(this.xLabels,this.pObj,this.minSteps[2],this.maxSteps[2],this.stepSizes[2]);break;case"R":this.fillData(this.xLabels,this.rObj,this.minSteps[3],this.maxSteps[3],this.stepSizes[3]);break;case"BP":this.fillData(this.xLabels,this.bpObj,this.minSteps[4],this.maxSteps[4],this.stepSizes[4]);break;case"Weight":this.fillData(this.xLabels,this.weightObj,this.minSteps[5],this.maxSteps[5],this.stepSizes[5]);break;case"IO":this.fillData(this.xLabels,this.ioObj,this.minSteps[6],this.maxSteps[6],this.stepSizes[6])}},tprChecked:function(t){var e=[],s=[];if(t.length>0){for(var a=["bleed","diastolicPressure","diet","drainage","ivFluids","pulse","respiration","systolicPressure","temperature","urine","weight"],i=[this.BleedObj,this.DpObj,this.DietObj,this.DrainageObj,this.IvFObj,this.PObj,this.RObj,this.SpObj,this.TObj,this.UrineObj,this.WeightObj],n=0;n<t.length;n++){var r=a.findIndex(function(e){return e===t[n]});s.push(r),e.push(i[r])}this.fillTestChartData(this.xLabels,e)}else{e=[],s=[];this.fillTestChartData(this.xLabels,e)}}},methods:{initChartData:function(){this.TPRChartList=[],this.xLabels=[],this.TObj={},this.PObj={},this.RObj={},this.SpObj={},this.DpObj={},this.WeightObj={},this.IvFObj={},this.DietObj={},this.BleedObj={},this.UrineObj={},this.DrainageObj={}},axios_getTprChartData:function(){var t=this;if(this.initChartData(),this.tprChartNo=this.patientInfo.chartNo,this.tprSerno=this.patientInfo.serno,""==this.tprChartNo||""==this.tprSerno){this.$store.commit("setSnackBar",{status:!0,text:"尚未選擇病患",timeout:4e3,closeText:""})}else{var e="/iNursingSrv/rest/tprrecordchart/bychartnoserno/"+this.tprChartNo+"/"+this.tprSerno;this.$http.get(e).then(function(e){t.TPRChartList=e.data.resultSet,t.setChartObjData(t.TPRChartList);var s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=document.getElementById("TprContent"),n=document.getElementById("line-chart"),r=document.getElementById("TprTableContent"),o=s-222;t.chartHeight=o,t.chartWidth=a-50,n&&(i.style.height=o+100+"px",r.style.height=o+60+"px")}).catch(function(t){try{console.log(t.response.data.message)}catch(t){}})}},setChartObjData:function(t){this.xLabels=this.getXLabelDate(t);for(var e=[],s=[],a=[],i=[],n=[],r=[],l=[],c=[],d=[],u=[],m=[],p=0;p<t.length;p++)e.push(0==t[p].temperature?null:t[p].temperature),s.push(0==t[p].pulse?null:t[p].pulse),a.push(0==t[p].respiration?null:t[p].respiration),i.push(0==t[p].systolicPressure?null:t[p].systolicPressure),n.push(0==t[p].diastolicPressure?null:t[p].diastolicPressure),r.push(0==t[p].weight?null:t[p].weight),l.push(t[p].ivFluids),c.push(t[p].bleed),d.push(t[p].urine),u.push(t[p].diet),m.push(t[p].drainage);var h=new o("體溫",e,"#2259CA"),v=new o("脈搏",s,"#F13967"),f=new o("呼吸",a,"#292929"),g=new o("收縮壓",i,"#088DBA"),x=new o("舒張壓",n,"#139B53"),_=new o("體重",r,"#442978"),b=new o("注射量",l,"#868686"),y=new o("飲食量",u,"#FFCE43"),k=new o("輸血量",c,"#FF1705"),w=new o("小便量",d,"#F15A24"),I=new o("引流量",m,"#A8C023");this.TObj=h,this.PObj=v,this.RObj=f,this.SpObj=g,this.DpObj=x,this.WeightObj=_,this.IvFObj=b,this.DietObj=y,this.BleedObj=k,this.UrineObj=w,this.DrainageObj=I},fillTestChartData:function(t,e){this.testChartData={scaleShowGridLines:!0,maintainAspectRatio:!1,datasetStroke:!0,showDatasetLabels:!0,animation:!0,animationSteps:200,type:"line",responsive:!0,pointDot:!0,pointDotRadius:12,pointDotStrokeWidth:16,labels:t,datasets:e},this.testOptions={plugins:{datalabels:{align:"top",anchor:"bottom",display:!0,font:{weight:"bold",size:16}}},spanGaps:!0,elements:{line:{tension:0,fill:!1,pointStyle:"circle"}},tooltips:{mode:"point",borderWidth:100,titleFontSize:16,titleSpacing:10,backgroundColor:"black",titleFontColor:"#fff",bodyFontSize:16,bodySpacing:2},title:{display:!1,text:"檢驗趨勢圖",position:"top",fontSize:20},layout:{padding:{left:10,right:10,top:10,bottom:10}},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,fontSize:16}}],yAxes:[{display:!0,beginAtZero:!0,ticks:{beginAtZero:!1}}]},legend:{position:"top",padding:{left:10,right:10,top:10,bottom:10},labels:{boxWidth:15,fontSize:18}}}},setChartData:function(t){this.xLabels=this.getXLabelDate(t);for(var e=[],s=[],a=[],i=[],n=[],r=[],c=[],d=[],u=[],m=[],p=[],h=[],v=[],f=[],g=0;g<t.length;g++)e.push(0==t[g].temperature?null:t[g].temperature),s.push(0==t[g].pulse?null:t[g].pulse),a.push(0==t[g].respiration?null:t[g].respiration),n.push(0==t[g].systolicPressure?null:t[g].systolicPressure),r.push(0==t[g].diastolicPressure?null:t[g].diastolicPressure),d.push(0==t[g].weight?null:t[g].weight),u.push(t[g].ivFluids),m.push(t[g].bleed),p.push(t[g].urine),h.push(t[g].diet),v.push(t[g].drainage);var x=new l(e),_=new l(s),b=new l(a);i.push(x),i.push(_),i.push(b);var y=new l(n),k=new l(r);c.push(y),c.push(k);var w=new l(u),I=new l(m),S=new l(p),P=new l(h),C=new l(v);f.push(w),f.push(P),f.push(I),f.push(S),f.push(C);for(var D=["體溫","脈搏","呼吸"],T=["收縮壓","舒張壓"],j=["注射量","飲食量","輸血量","小便量","引流量"],N=["#2259CA","#F13967","#292929"],F=["#088DBA","#139B53"],L=["#868686","#FFCE43","#FF1705","#F15A24","#A8C023"],O=[],$=[],R=[],M=[],U=[],V=[],B=[],A=0;A<i.length;A++){var E=new o(D[A],i[A].dataLabel,N[A]);O.push(E)}var H=new o("體溫",e,"#2259CA");$.push(H);var z=new o("脈搏",s,"#F13967");R.push(z);var W=new o("呼吸",a,"#292929");M.push(W);for(A=0;A<c.length;A++){var K=new o(T[A],c[A].dataLabel,F[A]);U.push(K)}var q=new o("體重",d,"#442978");V.push(q);for(A=0;A<f.length;A++){var X=new o(j[A],f[A].dataLabel,L[A]);B.push(X)}this.tprObj=O,this.tObj=$,this.pObj=R,this.rObj=M,this.bpObj=U,this.weightObj=V,this.ioObj=B,this.fillData(this.xLabels,this.tprObj,this.minSteps[0],this.maxSteps[0],this.stepSizes[0])},getXLabelDate:function(t){return function(t){for(var e=[],s=0;s<t.length;s++){var a=c(t[s].assessDate),i=c(t[s].assessTime);e.push(a+" "+i)}return e}(t)},fillData:function(t,e,s,a,i){this.chartData={maintainAspectRatio:!1,datasetStroke:!0,showDatasetLabels:!0,animation:!0,animationSteps:200,type:"line",pointDot:!0,pointDotRadius:12,pointDotStrokeWidth:16,labels:t,datasets:e},this.options={plugins:{datalabels:{align:"top",anchor:"bottom",display:!0,font:{weight:"bold",size:16}}},spanGaps:!0,elements:{line:{tension:0,fill:!1,pointStyle:"circle"}},tooltips:{mode:"point",borderWidth:100,titleFontSize:16,titleSpacing:10,backgroundColor:"black",titleFontColor:"#fff",bodyFontSize:16,bodySpacing:2},title:{display:!1,text:"檢驗趨勢圖",position:"top",fontSize:20},layout:{padding:{left:10,right:10,top:10,bottom:10}},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,fontSize:16}}],yAxes:[{display:!0,ticks:{beginAtZero:!1,min:s,max:a,stepSize:i}}]},legend:{position:"top",padding:{left:10,right:10,top:10,bottom:10},labels:{boxWidth:15,fontSize:18}}}}},data:function(){return{email:null,password:null,tempValidate:null,pulseValidate:null,respValidate:null,spValidate:null,dpValidate:null,telValidate:null,ivfValidate:null,dietValidate:null,bleedValidate:null,urineValidate:null,drainageValidate:null,urlValidate:null,chartData:null,options:null,testChartData:null,testOptions:null,tprChartNo:912473,tprSerno:107689,chartHeight:200,chartWidth:200,TPRCharts:[{text:"TPR (體溫 脈搏 呼吸)",value:"TPR"},{text:"T (體溫)",value:"T"},{text:"P (脈搏)",value:"P"},{text:"R (呼吸)",value:"R"},{text:"BP (收縮壓/舒張壓)",value:"BP"},{text:"Weight (體重)",value:"Weight"},{text:"IO (注射量、飲食量、輸血量、小便量、引流量)",value:"IO"}],xLabels:null,tprObj:null,tObj:null,pObj:null,rObj:null,bpObj:null,weightObj:null,ioObj:null,tprChecked:[],TPRChartsItems:[{text:"體溫",value:"temperature"},{text:"脈搏",value:"pulse"},{text:"呼吸",value:"respiration"},{text:"收縮壓",value:"systolicPressure"},{text:"舒張壓",value:"diastolicPressure"},{text:"體重",value:"weight"},{text:"注射量",value:"ivFluids"},{text:"飲食量",value:"diet"},{text:"輸血量",value:"bleed"},{text:"小便量",value:"urine"},{text:"引流量",value:"drainage"}],TPRChartList:[],TObj:null,PObj:null,RObj:null,SpObj:null,DpObj:null,WeightObj:null,IvFObj:null,DietObj:null,BleedObj:null,UrineObj:null,DrainageObj:null,minSteps:[5,34,40,5,10,30,0],maxSteps:[180,42,180,80,300,200,5e3],stepSizes:[20,1,20,10,20,10,500],selectChartValue:"TPR",showDataLabels:!0,showTab2:!1}}},ct={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",[s("v-tabs",{attrs:{"icons-and-text":"",centered:"",dark:"",color:"primary",grow:""}},[s("v-tabs-slider",{attrs:{color:"yellow"}}),t._v(" "),s("v-tab",{attrs:{href:"#VsTab-1"}},[t._v("\n      TPR明細\n      ")]),t._v(" "),s("v-tab",{directives:[{name:"show",rawName:"v-show",value:t.showTab2,expression:"showTab2"}],attrs:{href:"#VsTab-2"}},[t._v("\n      TPR趨勢圖\n      ")]),t._v(" "),s("v-tab",{attrs:{href:"#VsTab-3"},on:{click:t.axios_getTprChartData}},[t._v("\n      TPR趨勢圖\n      ")]),t._v(" "),s("v-tab-item",{attrs:{id:"VsTab-1"}},[s("v-card",{attrs:{flat:""}},[s("v-card-text",{attrs:{id:"TprTableContent"}},[s("tpr-record-list")],1)],1)],1),t._v(" "),s("v-tab-item",{attrs:{id:"VsTab-2"}},[s("v-card",{attrs:{flat:""}},[s("v-card-text",{attrs:{id:"TprContent"}},[""!=t.tprChartNo&&null!=t.TPRChartList?s("v-select",{attrs:{items:t.TPRCharts,label:"趨勢圖","item-value":"value"},model:{value:t.selectChartValue,callback:function(e){t.selectChartValue=e},expression:"selectChartValue"}}):t._e(),t._v(" "),s("div",{staticClass:"chart-container",attrs:{id:"lineChartParent"}},[s("vue-line-chart",{attrs:{height:t.chartHeight,"chart-data":t.chartData,options:t.options}})],1)],1)],1)],1),t._v(" "),s("v-tab-item",{attrs:{id:"VsTab-3"}},[s("v-card",{attrs:{flat:""}},[s("v-card-text",{attrs:{id:"TprContent2"}},[""!=t.tprChartNo&&null!=t.TPRChartList?s("v-select",{attrs:{items:t.TPRChartsItems,chips:"",label:"趨勢圖",multiple:"",autoComplete:""},model:{value:t.tprChecked,callback:function(e){t.tprChecked=e},expression:"tprChecked"}}):t._e(),t._v(" "),s("div",{staticClass:"chart-container",attrs:{id:"lineChartParent2"}},[s("vue-line-chart",{attrs:{height:t.chartHeight,"chart-data":t.testChartData,options:t.testOptions}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var dt=s("VU/8")(lt,ct,!1,function(t){s("XZp7")},"data-v-d44978dc",null).exports,ut={render:function(){var t=this.$createElement,e=this._self._c||t;return e("frameset",{attrs:{cols:"20%,80%"}},[e("frame",{attrs:{src:"http://www.pchome.com.tw"}}),this._v(" "),e("frame",{attrs:{src:"http://172.16.2.33:8080/iFormSys/form-template/AD002_v100.html"}})],1)},staticRenderFns:[]};var mt=s("VU/8")({name:"HtmlTest01",data:function(){return{phtml:""}},created:function(){}},ut,!1,function(t){s("Vov9")},"data-v-6f1eb00d",null).exports,pt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("frameset",{attrs:{cols:"200,*"}},[e("frame",{attrs:{src:"http://www.pchome.com.tw"}}),this._v(" "),e("frame",{attrs:{src:"http://172.16.2.33:8080/iFormSys/form-template/AD002_v100.html"}})],1)},staticRenderFns:[]};var ht={name:"HtmlTest02",data:function(){return{patientListStatus:!0}},created:function(){},components:{PopupWindow:s("VU/8")({name:"PopupWindow",created:function(){}},pt,!1,function(t){s("5hQ/")},"data-v-6ba2f44a",null).exports}},vt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{"max-width":"1200",value:"false",scrollable:""},model:{value:t.patientListStatus,callback:function(e){t.patientListStatus=e},expression:"patientListStatus"}},[s("v-card",[s("iframe",[s("PopupWindow")],1),t._v(" "),s("v-card-actions",[s("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){return e.stopPropagation(),t.patientListClick(e)}}},[t._v("選取")])],1)],1)],1)},staticRenderFns:[]};var ft=s("VU/8")(ht,vt,!1,function(t){s("jFiN")},"data-v-3ee62ca8",null).exports;a.default.use(r.a);var gt=new r.a({mode:"history",base:"/iNursingSys",routes:[{path:"/",name:"Login",component:B},{path:"/home",component:M,children:[{name:"AppArticle",path:"",component:y},{name:"FormViewer",path:"formviewer",component:H},{name:"FormViewer2",path:"formviewer2",component:Z},{name:"PatientList1",path:"patientlist1",component:j},{name:"EpisodeSummary",path:"episodesummary",component:x},{name:"TestComp1",path:"test1",component:mt},{name:"TestComp2",path:"test2",component:ft},{name:"TPRRecord",path:"tprrecord",component:dt}]}]}),xt=s("NYxO"),_t=s("3EgV"),bt=s.n(_t),yt=(s("7zck"),s("IHMs")),kt=s.n(yt),wt=s("mtWM"),It=s.n(wt),St={getUrlKey:function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},AD2ROC_Date:function(t){var e=new Date(t.replace("[UTC]","")),s=e.getFullYear()-1911,a=("0"+(e.getMonth()+1)).slice(-2),i=("0"+e.getDate()).slice(-2);return console.log("date : "+e),s+"/"+a+"/"+i},Process_Duplicate:function(t,e){return e.filter(function(e,s,a){return a.map(function(e){return e[t]}).indexOf(e[t])===s})}};a.default.filter("Filter_Date_AD2ROC",function(t){var e=t.split("-");return e[0]-1911+"/"+e[1]+"/"+e[2].split("T")[0]}),a.default.filter("Upper",function(t){return t.toUpperCase()});var Pt="/iNursingSys/static/conf/setting.json";"http://localhost:8085/"==window.location.href&&(Pt="/static/conf/setting.json"),It.a.get(Pt).then(function(t){!function(t){a.default.config.productionTip=!1,a.default.use(xt.a),It.a.defaults.baseURL=t.baseURL,a.default.prototype.$http=It.a,a.default.prototype.$UtilityJs=St;var e=new xt.a.Store({state:{loginUser:{empNo:"",empName:"",idNo:"",passwd:"",userRole:"",userDept:"",loginDateTime:"",keyId:""},patientInfo:{chartNo:"",ptName:"",bedNo:"",sex:"",serno:"",admitDays:"",ckinDate:""},SystemControl:{AppHome_patientListStatus:!0,AppHome_webCamStatus:!1,AppHome_snackbar:{status:!1,text:"",timeout:4e3,closeText:""},FormViewer_url:t.FormViewer_url}},mutations:{loginProc:function(t,e){t.loginUser=e,t.loginUser.loginDateTime=new Date},logoutProc:function(t){t.loginUser=""},selectPt:function(t,e){t.patientInfo=e},clearPt:function(t){t.patientInfo=""},togglePtList:function(t){t.SystemControl.AppHome_patientListStatus=!t.SystemControl.AppHome_patientListStatus},toggleWebCam:function(t){t.SystemControl.AppHome_webCamStatus=!t.SystemControl.AppHome_webCamStatus},setSnackBar:function(t,e){t.SystemControl.AppHome_snackbar=e}}});a.default.use(bt.a,{theme:{primary:kt.a.deepPurple.lighten2,secondary:kt.a.deepPurple.lighten4,accent:kt.a.deepPurple.accent1,error:kt.a.red.darken3}}),new a.default({el:"#app",router:gt,store:e,components:{App:n},template:"<App/>"})}(t.data)}).catch(function(t){console.log("get Setting json: error : "+t)})},PLnx:function(t,e){},PdUy:function(t,e){},Vov9:function(t,e){},"Wa+F":function(t,e){},XZp7:function(t,e){},gMdV:function(t,e){},jFiN:function(t,e){},pafc:function(t,e){},pssk:function(t,e){},tXCF:function(t,e){},uslO:function(t,e,s){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(t){return s(n(t))}function n(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(a)},i.resolve=n,t.exports=i,i.id="uslO"},z2Rv:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.586e1b0b07b2a9f72cab.js.map